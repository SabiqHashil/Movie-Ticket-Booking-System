@model MovieTicketBookingSystem.Models.Ticket

<form action="@Url.Action("PaymentTicket", "User")" method="post">
    <h2>Book Your Movie Ticket</h2>

    <div class="form-group">
        <label for="schedule">Select Movie Schedule:</label>

        <!-- Table to display available theaters for the selected movie -->
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Movie Name</th>
                    <th>Theater</th>
                    <th>Location</th>
                    <th>Class</th>
                    <th>Ticket Rate</th>
                    <th>Show Time</th>
                    <th>Date</th>
                    <th>Select</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var schedule in Model.Schedules)
                {
                    <tr>
                        <td>@schedule.MovieName</td>
                        <td>@schedule.TheaterName</td>
                        <td>@schedule.Location</td>
                        <td>@schedule.Class</td>
                        <td>@schedule.TicketRate.ToString("C")</td>
                        <td>@schedule.ShowTime.ToString(@"hh\:mm")</td>
                        <td>@schedule.Date.ToShortDateString()</td>
                        <td>
                            <!-- Radio button to select the schedule -->
                            <input type="radio" name="ScheduleID" value="@schedule.ScheduleID" required />
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <form action="@Url.Action("PaymentTicket", "User")" method="get">
        @* <input type="hidden" name="ScheduleID" value="@schedule.ScheduleID" /> *@
        <label for="seats">Number of Seats:</label>
        <input type="number" name="NumberOfSeats" id="seats" class="form-control" min="1" required />
        <button type="submit" class="btn btn-primary">Proceed to Payment</button>
        <a href="@Url.Action("MovieDetails", "User")" class="btn btn-secondary">Back</a>

    </form>
</form>

